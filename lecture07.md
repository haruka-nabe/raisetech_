# 第七回課題
## 学んだことの整理  
* システムにおけるセキュリティの基礎
1. 想定されるリスクの洗い出し
2. リスクに対する対応の基本方針の定義

想定されるリスクはデータの改ざん、盗難、破壊がメイン。リスクの要因は脆弱性、認証情報の流出、人為的過負荷が挙げられる。AWSにおけるこれらのリスク要因への対策を次にまとめる。

①　AWSでのセキュリティ対策(脆弱性)  
②　AWSでのセキュリティ対策(認証情報の流出)  
③　AWSでのセキュリティ対策(人為的過負荷)

①　AWSでのセキュリティ対策(脆弱性)　　

・　CodeGuru Reviewr  
GitHubなどのリポジトリにコードをスキャン、改善の提案。　　

・　AWS　WAF(Web Application Firewall)  
5つの機能がある。→アプリケーションの攻撃の防御。IP制限による不正アクセスの遮断。DDos攻撃の防御。悪意あるBotの対策。アカウントの不正ログインの防止。
マネージメントルールの設定が必要。　　

・　ACM(Certificate Manager)  
AWSサービスと内部接続リソースで使用するパブリック及びプライベートSSL/TLS証明書をプロビジョニングする。　　

・　Inspector  
AWSソフトウェアの脆弱性のスキャンを行う。AWSの評価対象ホストおよびホストの集合体において、対処が必要な潜在的なセキュリティ上のリスクがあるかどうかを評価する。　　

②　AWSでのセキュリティ対策(認証情報の流出)　　

・　I AM  
MFAで本人以外ログインできないようにする。ロールを中心とした権限とし、アクセスキー以外はReadOnlyとする。　

・　KMS  
暗号鍵マネジメント。透過的暗号化とAWS CLIを用いた鍵の暗号化。KMS鍵自体がIAMポリシーとキーポリシーで二重に権限管理されているので鍵の利用権限ができないと復号できない。  

・　Secrets Manager
秘匿したい情報をKMSで暗号化、保管。

③　AWSでのセキュリティ対策(人為的過負荷)　　

・　Shield  
ネットワーク、ポートレベルでのDDos攻撃からインフラを保護する。 Advancedは超高額なので注意。DDoS攻撃の履歴の参照、レポート化、通知の送信などがサービスに含まれる。

## 感想と想定される攻撃脆弱性への対策
セキュリティ対策は自分の情報だけでなく顧客の情報流出の可能性があるので、機密性、完全性、可用性の視点から構築したシステムを確認、運用していく必要がある。


①脆弱性
暗号化されていない通信でウェブアプリにアクセスする形になっている。
→ACMでHTTPS化に必要なSSL証明書を発行する。

②人為的過負荷
Dos攻撃されても発見が遅れてしまう(不正なリクエストの検出などのログがない)。
→基本的にはShieldが適用されているがAWS WAFのルール設定(不正なリクエストブロックのためのレート制限)。ログの確認、トラフィックの制限も可能に。

③認証情報の流出
認証情報が流出しアカウントが乗っ取られてしまう。不正なユーザーがAWSアカウント内のリソースにアクセスできてしまう。
→AWS WAFのATPルールを適用。